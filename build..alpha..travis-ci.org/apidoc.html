<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

    >mem-fs-editor (v3.0.2)</a>
</h1>
<h4>File edition helpers working on top of mem-fs</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.mem-fs-editor">module mem-fs-editor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mem-fs-editor.create">
            function <span class="apidocSignatureSpan">mem-fs-editor.</span>create
            <span class="apidocSignatureSpan">(store)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mem-fs-editor.</span>copy</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mem-fs-editor.</span>util</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mem-fs-editor.copy">module mem-fs-editor.copy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mem-fs-editor.copy.copy">
            function <span class="apidocSignatureSpan">mem-fs-editor.</span>copy
            <span class="apidocSignatureSpan">(from, to, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mem-fs-editor.copy._copySingle">
            function <span class="apidocSignatureSpan">mem-fs-editor.copy.</span>_copySingle
            <span class="apidocSignatureSpan">(from, to, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mem-fs-editor.util">module mem-fs-editor.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mem-fs-editor.util.getCommonPath">
            function <span class="apidocSignatureSpan">mem-fs-editor.util.</span>getCommonPath
            <span class="apidocSignatureSpan">(filePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mem-fs-editor.util.globify">
            function <span class="apidocSignatureSpan">mem-fs-editor.util.</span>globify
            <span class="apidocSignatureSpan">(filePath)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mem-fs-editor" id="apidoc.module.mem-fs-editor">module mem-fs-editor</a></h1>


    <h2>
        <a href="#apidoc.element.mem-fs-editor.create" id="apidoc.element.mem-fs-editor.create">
        function <span class="apidocSignatureSpan">mem-fs-editor.</span>create
        <span class="apidocSignatureSpan">(store)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (store) {
  return new EditionInterface(store);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Usage
-------------

```js
var memFs = require(&#x27;mem-fs&#x27;);
var editor = require(&#x27;mem-fs-editor&#x27;);

var store = memFs.<span class="apidocCodeKeywordSpan">create</span>();
var fs = editor.create(store);

fs.write(&#x27;somefile.js&#x27;, &#x27;var a = 1;&#x27;);
```

### `#read(filepath, [options])`
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mem-fs-editor.copy" id="apidoc.module.mem-fs-editor.copy">module mem-fs-editor.copy</a></h1>


    <h2>
        <a href="#apidoc.element.mem-fs-editor.copy.copy" id="apidoc.element.mem-fs-editor.copy.copy">
        function <span class="apidocSignatureSpan">mem-fs-editor.</span>copy
        <span class="apidocSignatureSpan">(from, to, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">copy = function (from, to, options) {
  to = path.resolve(to);
  options = options || {};
  var fromGlob = util.globify(from);

  var globOptions = extend(options.globOptions || {}, {nodir: true});
  var diskFiles = globby.sync(fromGlob, globOptions);
  var storeFiles = [];
  this.store.each(file =&#x3e; {
    if (multimatch([file.path], fromGlob).length !== 0) {
      storeFiles.push(file.path);
    }
  });
  var files = diskFiles.concat(storeFiles);

  var generateDestination = () =&#x3e; to;
  if (Array.isArray(from) || !this.exists(from) || glob.hasMagic(from)) {
    assert(
      !this.exists(to) || fs.statSync(to).isDirectory(),
      &#x27;When copying multiple files, provide a directory as destination&#x27;
    );

    var root = util.getCommonPath(from);
    generateDestination = filepath =&#x3e; {
      var toFile = path.relative(root, filepath);
      return path.join(to, toFile);
    };
  }

  // Sanity checks: Makes sure we copy at least one file.
  assert(files.length &#x3e; 0, &#x27;Trying to copy from a source that does not exist: &#x27; + from);

  files.forEach(file =&#x3e; {
    this._copySingle(file, generateDestination(file), options);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var path = require(&#x27;path&#x27;);
var extend = require(&#x27;deep-extend&#x27;);
var ejs = require(&#x27;ejs&#x27;);

module.exports = function (from, to, context, tplSettings, options) {
context = context || {};

this.<span class="apidocCodeKeywordSpan">copy</span>(from, to, extend(options || {}, {
  process: function (contents, filename) {
    return ejs.render(
      contents.toString(),
      context,
      // Setting filename by default allow including partials.
      extend({filename: filename}, tplSettings || {})
    );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mem-fs-editor.copy._copySingle" id="apidoc.element.mem-fs-editor.copy._copySingle">
        function <span class="apidocSignatureSpan">mem-fs-editor.copy.</span>_copySingle
        <span class="apidocSignatureSpan">(from, to, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_copySingle = function (from, to, options) {
  options = options || {};

  assert(this.exists(from), &#x27;Trying to copy from a source that does not exist: &#x27; + from);

  var file = this.store.get(from);

  var contents = file.contents;
  if (options.process) {
    contents = applyProcessingFunc(options.process, file.contents, file.path);
  }

  this.write(to, contents, file.stat);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
}

// Sanity checks: Makes sure we copy at least one file.
assert(files.length &#x3e; 0, &#x27;Trying to copy from a source that does not exist: &#x27; + from);

files.forEach(file =&#x3e; {
  this.<span class="apidocCodeKeywordSpan">_copySingle</span>(file, generateDestination(file), options);
});
};

exports._copySingle = function (from, to, options) {
options = options || {};

assert(this.exists(from), &#x27;Trying to copy from a source that does not exist: &#x27; + from);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mem-fs-editor.util" id="apidoc.module.mem-fs-editor.util">module mem-fs-editor.util</a></h1>


    <h2>
        <a href="#apidoc.element.mem-fs-editor.util.getCommonPath" id="apidoc.element.mem-fs-editor.util.getCommonPath">
        function <span class="apidocSignatureSpan">mem-fs-editor.util.</span>getCommonPath
        <span class="apidocSignatureSpan">(filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCommonPath = function (filePath) {
  if (Array.isArray(filePath)) {
    filePath = filePath
      .filter(notNullOrExclusion)
      .map(this.getCommonPath.bind(this));

    return commondir(filePath);
  }

  var globStartIndex = filePath.indexOf(&#x27;*&#x27;);
  if (globStartIndex !== -1) {
    filePath = filePath.substring(0, globStartIndex + 1);
  } else if (fs.existsSync(filePath) &#x26;&#x26; fs.statSync(filePath).isDirectory()) {
    return filePath;
  }

  return path.dirname(filePath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var generateDestination = () =&#x3e; to;
if (Array.isArray(from) || !this.exists(from) || glob.hasMagic(from)) {
  assert(
    !this.exists(to) || fs.statSync(to).isDirectory(),
    &#x27;When copying multiple files, provide a directory as destination&#x27;
  );

  var root = util.<span class="apidocCodeKeywordSpan">getCommonPath</span>(from);
  generateDestination = filepath =&#x3e; {
    var toFile = path.relative(root, filepath);
    return path.join(to, toFile);
  };
}

// Sanity checks: Makes sure we copy at least one file.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mem-fs-editor.util.globify" id="apidoc.element.mem-fs-editor.util.globify">
        function <span class="apidocSignatureSpan">mem-fs-editor.util.</span>globify
        <span class="apidocSignatureSpan">(filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">globify = function (filePath) {
  if (Array.isArray(filePath)) {
    return filePath.reduce((memo, pattern) =&#x3e; memo.concat(this.globify(pattern)), []);
  }

  if (glob.hasMagic(filePath)) {
    return filePath;
  } else if (!fs.existsSync(filePath)) {
    // The target of a pattern who&#x27;s not a glob and doesn&#x27;t match an existing
    // entity on the disk is ambiguous. As such, match both files and directories.
    return [
      filePath,
      path.join(filePath, &#x27;**&#x27;)
    ];
  }

  var fsStats = fs.statSync(filePath);
  if (fsStats.isFile()) {
    return filePath;
  } else if (fsStats.isDirectory()) {
    return path.join(filePath, &#x27;**&#x27;);
  }
  throw new Error(&#x27;Only file path or directory path are supported.&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

return path.dirname(filePath);
};

exports.globify = function (filePath) {
if (Array.isArray(filePath)) {
  return filePath.reduce((memo, pattern) =&#x3e; memo.concat(this.<span class="apidocCodeKeywordSpan">globify</span>(pattern)), []);
}

if (glob.hasMagic(filePath)) {
  return filePath;
} else if (!fs.existsSync(filePath)) {
  // The target of a pattern who&#x27;s not a glob and doesn&#x27;t match an existing
  // entity on the disk is ambiguous. As such, match both files and directories.
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
